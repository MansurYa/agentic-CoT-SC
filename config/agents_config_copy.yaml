# ==============================================================================
# КОНФИГУРАЦИЯ ПРОЕКТА: Agentic-CoT-SC
# ==============================================================================
# Этот файл управляет поведением всех агентов, таймаутами и выбором моделей.
# Все model_id должны соответствовать слагам на OpenRouter.ai
# ==============================================================================

# --- 1. Глобальные системные настройки ---
system:
  project_name: "Agentic-CoT-SC"
  # API ключ OpenRouter: https://openrouter.ai/keys
  # Выпустите ключ и добавьте его сюда
  api_key: "sk-or-v1-ваш-ключ-здесь"
  
  # Максимальное количество параллельных потоков генерации.
  # Рекомендуется 3-5 для MVP, 10+ для научных экспериментов (CoT-SC).
  max_parallel_workers: 3

  # Папка для сохранения результатов (создается автоматически)
  experiments_dir: "experiments"

  # Уровень логирования (DEBUG, INFO, WARNING, ERROR)
  log_level: "INFO"

# --- 2. Настройки песочницы (Playwright) ---
sandbox:
  # Максимальное время ожидания загрузки страницы и скриптов (мс)
  timeout_ms: 15000
  # Режим без графического интерфейса (True для серверов/Docker)
  headless: true
  # Разрешение экрана для скриншотов
  viewport:
    width: 1280
    height: 720
  # Ждать ли полной остановки сетевой активности (важно для CDN библиотек)
  wait_for_network_idle: true
  # Качество JPEG скриншота (1-100). 80 - оптимальный баланс качества и размера.
  screenshot_quality: 80

# --- 3. Генераторы (Workers) ---
# Список моделей, которые будут параллельно решать задачу.
# Разнообразие моделей повышает качество (Diversity is key).
generators:
  - name: "Claude 3.5 Sonnet"
    model_id: "anthropic/claude-3.5-sonnet"
    # Температура 0.1 для кода: нам нужна точность, но минимальная вариативность
    temperature: 0.1
    max_tokens: 4000
    supports_vision: true  # Эта модель умеет работать с картинками (если понадобится)

  - name: "GPT-4o"
    model_id: "openai/gpt-4o"
    temperature: 0.1
    max_tokens: 4000
    supports_vision: true

  - name: "DeepSeek V3"
    model_id: "deepseek/deepseek-chat"
    temperature: 0.0 # Строго 0 для максимальной логики
    max_tokens: 4000
    supports_vision: false # DeepSeek V3 (base) часто не видит картинки или это дорого

# --- 4. Верификатор (Critic) ---
# Модель, которая ищет ошибки. Должна быть "умной" и желательно видеть скриншоты.
verifier:
  model_id: "openai/gpt-4o"
  # Чуть выше температура, чтобы модель могла рассуждать и придумывать тест-кейсы
  temperature: 0.2
  max_tokens: 2000
  # Если true, мы будем отправлять скриншот (если он есть) верификатору
  use_vision_if_available: true

# --- 5. Судья (Global Judge) ---
# Модель, которая сравнивает все решения и выбирает победителя.
# Требуется большое контекстное окно и отличное следование инструкциям JSON.
judge:
  model_id: "anthropic/claude-3.5-sonnet" # Claude отлично справляется с длинными текстами
  temperature: 0.0
  max_tokens: 2000

# --- 6. Синтезатор (Architect) ---
# Модель, которая пишет финальный код на основе лучшего решения и советов судьи.
synthesizer:
  # Если победитель не может быть использован (например, API упал), используем эту модель
  fallback_model_id: "openai/gpt-4o"
  temperature: 0.0
  max_tokens: 8000 # Код может быть большим
